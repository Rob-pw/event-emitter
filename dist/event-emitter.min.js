(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var n;if(typeof window!=="undefined"){n=window}else if(typeof global!=="undefined"){n=global}else if(typeof self!=="undefined"){n=self}else{n=this}n.EventEmitter=e()}})(function(){var e,n,t;return function i(e,n,t){function r(s,o){if(!n[s]){if(!e[s]){var u=typeof require=="function"&&require;if(!o&&u)return u(s,!0);if(f)return f(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(n){var t=e[s][1][n];return r(t?t:n)},l,l.exports,i,e,n,t)}return n[s].exports}var f=typeof require=="function"&&require;for(var s=0;s<t.length;s++)r(t[s]);return r}({1:[function(e,n,t){"use strict";var i=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(n,t,i){if(t)e(n.prototype,t);if(i)e(n,i);return n}}();function r(e,n){if(!(e instanceof n)){throw new TypeError("Cannot call a class as a function")}}var f={emitDelay:10};var s=function(){function e(){var n=arguments.length<=0||arguments[0]===undefined?f:arguments[0];r(this,e);var t=void 0;if(n.hasOwnProperty("emitDelay")){t=n.emitDelay}else{t=f.emitDelay}this.emitDelay=t;this._listeners={};this.events=[]}i(e,[{key:"_addListenner",value:function n(e,t,i){if(typeof t!=="function"){throw TypeError("listener must be a function")}if(this.events.indexOf(e)===-1){this._listeners[e]=[{once:i,fn:t}];this.events.push(e)}else{this._listeners[e].push({once:i,fn:t})}}},{key:"on",value:function t(e,n){this._addListenner(e,n,false)}},{key:"once",value:function s(e,n){this._addListenner(e,n,true)}},{key:"off",value:function o(e,n){var t=this;var i=this.events.indexOf(e);var r=e&&i!==-1;if(r){if(!n){delete this._listeners[e];this.events.splice(i,1)}else{(function(){var i=[];var r=t._listeners[e];r.forEach(function(e,t){if(e.fn===n){i.unshift(t)}});i.forEach(function(e){r.splice(e,1)})})()}}}},{key:"_applyEvents",value:function u(e,n){var t=this._listeners[e];var i=[];t.forEach(function(e,t){e.fn.apply(null,n);if(e.once){i.unshift(t)}});i.forEach(function(e){t.splice(e,1)})}},{key:"emit",value:function a(e){if(!e||this.events.indexOf(e)===-1){return}for(var n=arguments.length,t=Array(n>1?n-1:0),i=1;i<n;i++){t[i-1]=arguments[i]}if(this.emitDelay){setTimeout(this._applyEvents.call(this,e,t),this.emitDelay)}else{this._applyEvents(e,t)}}},{key:"emitSync",value:function l(e){if(!e||this.events.indexOf(e)===-1){return}for(var n=arguments.length,t=Array(n>1?n-1:0),i=1;i<n;i++){t[i-1]=arguments[i]}this._applyEvents(e,t)}}]);return e}();n.exports=s},{}]},{},[1])(1)});